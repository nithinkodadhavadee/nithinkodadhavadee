<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Nithin KS</title>
</head>

<body>
    <div id="test"></div>
    <div id="terminal">
        <div id="output">
            Hello, this is
            <pre id="asciiArt"></pre>
            just incase that wan't legible, I am Nithin KS. <br>
            I am a Software Developer. <br> <br>

            Type 'help' for a list of commands.
        </div>
        <form>
            <label>&gt;</label>
            <input id="input" type="text" autofocus>
        </form>
    </div>
    <script type="module">
        import art from './asciiArt.js';

        let testElement = document.getElementById("test");

        while (true) {
            let index = getRndInteger(0, art.length);
            console.log(art[index]);
            console.log("index: ", index);
            // document.getElementById("asciiArt").innerHTML =  `<pre>` + art[index] + `</pre>`;
            document.getElementById("asciiArt").innerText = art[index];

            if (doesTextOverflow()) {
                console.log('ASCII art overflows the terminal output.');
            } else {
                console.log('ASCII art fits within the terminal output width. \nBreaking Loop');
                break;
            }
        }



        function getRndInteger(min, max) {
            return Math.floor(Math.random() * (max - min)) + min;
        }

        function doesTextOverflow() {
            const asciiArtElement = document.getElementById('asciiArt');
            const terminalOutput = document.getElementById('output');

            const asciiArtWidth = asciiArtElement.scrollWidth;
            const terminalOutputWidth = terminalOutput.offsetWidth;

            // test.innerText = `${asciiArtWidth > terminalOutputWidth} ${asciiArtWidth}px ${terminalOutputWidth}px`;
            return asciiArtWidth > terminalOutputWidth;
        }
    </script>
    <script src="portpolio.js"></script>
</body>

</html>